[TOC]:#
# Table of Contents
- [界面要素](#界面要素)
    - [用户、商户共用支付页面](#用户商户共用支付页面)
- [组件](#组件)
    - [添加商品页面](#添加商品页面)
- [界面事件](#界面事件)
    - [登陆界面](#登陆界面)
    - [创建订单界面](#创建订单界面)
    - [订单界面](#订单界面)
    - [扫描订单界面](#扫描订单界面)
    - [支付界面](#支付界面)
    - [通知界面](#通知界面)
- [Action](#action)
- [state数据结构](#state数据结构)
  
## 界面要素  
###  用户、商户共用支付页面
####　支付界面
- 界面要素
  - 订单信息
    - 订单号
    - 流水号
    - 订单信息(多行)
      - 商品名称
      - 单价
      - 数量
    - 优惠信息
      - 优惠金额
      - 优惠信息
    - 结算
      - 总价
      - 优惠
      - 结算
  - 按钮
    - 支付结果下拉菜单：模拟支付成功、失败
    - 确定：确定支付成功或者支付失败
    - 取消支付：
      - 商户取消支付该订单，页面跳转到添加商品信息页面
      - 用户取消支付该订单，页面跳转到扫描订单页面

## 组件  
### 添加商品页面  
- 添加商品组件
    
    输入数据：表单ID、删除事件、提交事件
    
    输出数据：商品信息
    
    - 商品名称输入框
    
        要素有输入框、输入成功提示、输入失败提示  
    
    - 单价输入框
    
        要素有输入框（只允许输入数字精确到小数点后两位）、输入成功提示、输入失败提示  
    
    - 数量输入框
    
        要素有输入框（只允许输入数字）、输入成功提示、输入失败提示    
    
    - 删除按钮
    
        要素有按钮（有点击事件，点击事件触发后该添加商品组件消失 ） 
    
- 提交商品组件

    输入数据：商户拥有待支付订单的数量
        
    输出数据：添加的商品列表信息

    - 添加商品按钮
    
        要素有按钮（有点击事件，点击事件触发后添加一个添加商品组件）
    
    - 提交商品按钮
    
        要素有按钮（有点击事件，点击事件触发后添加一个添加商品组件）
    
    - 待支付跳转按钮
    
        要素有按钮（有点击事件，点击事件触发后跳转到外部给的连接）

## 界面事件  
分析对应界面的事件或与对应界面相关的事件
### 登陆界面  
- 登录事件  
- 初始化订单编号事件  
- 初始化订单事件  
- 初始化优惠事件  

### 创建订单界面  
- 添加订单事件

### 订单界面  
- 插入优惠信息事件  
- 取消订单事件  
- 删除订单事件  
- 支付请求事件  

### 扫描订单界面   
- 匹配订单事件  
- 插入订单信息事件

### 支付界面  
- 支付结果事件
- 支付取消事件

### 通知界面

## Action
TODO

## state数据结构  
store中state的数据结构 
```javascript
var state = {
    user: {
        userId: "1",
        userType: "MERCHANT"
    },
    orderId: [1, 2],
    order: {
        1: {
            orderId: "1",
            items: [
                {"name": "ONLY修身撞色拼接女针织裙", "price": 34950, "quantity": 2},
                {"name": "ONLY圆点荷叶边女修身裙", "price": 19950, "quantity": 1},
                {"name": "ONLY棉宽松字母牛仔女外套", "price": 27450, "quantity": 1}
            ]
        },
        2: {
            orderId: "2",
            items: [
                {"name": "ONLY修身撞色拼接女针织裙", "price": 34950, "quantity": 2},
                {"name": "ONLY圆点荷叶边女修身裙", "price": 19950, "quantity": 1},
                {"name": "ONLY棉宽松字母牛仔女外套", "price": 27450, "quantity": 1}
            ]
        }
    },
    marketing: {
        1: {orderId: "1", amt: 58650, msg: "测试优惠, 一律5折"},
        2: {orderId: "2", amt: 58650, msg: "测试优惠, 一律5折"}
    }
}
```